# Django_Final_Project 
# StudyUs
- ìŠ¤í„°ë””ì› ëª¨ì§‘ ê¸°ëŠ¥ ë° ì‹¤ì‹œê°„ ì±„íŒ…, ê°œì¸ìš© ì•”ê¸° í”Œë˜ì‹œ ì¹´ë“œ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

|Name|ë‚¨ì˜í›ˆ|ì˜¤ì •ë°°|ìœ¤ì¬ìš°|ì´ìˆ˜ë¯¼|
|:-:|:-:|:-:|:-:|:-:|
| Profile  |<img width="150px" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/c0ff7054-39b1-42e5-a996-27471d41540d">|<img width="150px" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/8733be77-4d9c-42a1-a946-320c8644d785">|<img width="150px" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/d6583404-66a5-4c60-9345-c3d97527c733">|<img width="150px" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/a231294d-4391-4885-a580-8089adcfbf8d">|
| Position |Architect<br>Frontend Develop<br>Backend Develop<br>CICD|íŒ€ì¥<br>Frontend Develop<br>Backend Develop<br>UIUX|Frontend Develop<br>Backend Develop<br>ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë¶„ì„|Frontend Develop<br>Backend Develop<br>UIUX<br>ERD, API ëª…ì„¸ì„œ ì‘ì„±|
| GitHub |[Eric](https://github.com/Nam-Younghoon)|[OH_JUNGBAE](https://github.com/Alexmint001)|[bardnia](https://github.com/bardnia)|[su2minig](https://github.com/su2minig)|

## ëª©ì°¨

[1. ëª©í‘œ](#1-ëª©í‘œ)<br>
[2. ê°œë°œ í™˜ê²½ ë° ë°°í¬ ë§í¬](#2-ê°œë°œ-í™˜ê²½-ë°-ë°°í¬-ë§í¬)<br>
[3. í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ê°œë°œ ì¼ì •](#3-í”„ë¡œì íŠ¸-êµ¬ì¡°ì™€-ê°œë°œ-ì¼ì •)<br>
[4. ìš”êµ¬ì‚¬í•­ ì‹œê°í™”, ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§(ERD), ë°°í¬ ì•„í‚¤í…ì²˜ êµ¬ì„±ë„](#4-ìš”êµ¬ì‚¬í•­-ì‹œê°í™”,-ë°ì´í„°ë² ì´ìŠ¤-ëª¨ë¸ë§erd,-ë°°í¬-ì•„í‚¤í…ì²˜-êµ¬ì„±ë„)<br>
[5. UI](#5-UI)<br>
[6. ë©”ì¸ ê¸°ëŠ¥](#6-ë©”ì¸-ê¸°ëŠ¥)<br>
[7. ì¶”ê°€ ê¸°ëŠ¥](#7-ì¶”ê°€-ê¸°ëŠ¥)<br>
[8. ê°œë°œí•˜ë©° ê²½í—˜í•œ ì˜¤ë¥˜ì™€ í•´ê²°ë°©ë²•](#8-ê°œë°œí•˜ë©°-ê²½í—˜í•œ-ì˜¤ë¥˜ì™€-í•´ê²°ë°©ë²•)<br>
[9. í”„ë¡œì íŠ¸ ì†Œê°(ì–´ë ¤ì› ë˜ ì  & ë°°ìš´ ì )](#9-í”„ë¡œì íŠ¸-ì†Œê°ì–´ë ¤ì› ë˜-ì --ë°°ìš´-ì )<br>
<br>

## 1. ëª©í‘œ
- #### ìŠ¤í„°ë”” ëª¨ì§‘ ë˜ëŠ” ì°¸ì—¬ê°€ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤
- #### ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ì„ í†µí•´ ì†Œí†µ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤
- #### ì•”ê¸° í”Œë˜ì‹œ ì¹´ë“œ ê¸°ëŠ¥ì„ ì´ìš©í•œ ê°œì¸ í•™ìŠµ ì„œë¹„ìŠ¤

<br>

## 2. ê°œë°œ í™˜ê²½ ë° ë°°í¬ ë§í¬

### 2.1 ê°œë°œ ê¸°ìˆ 
#### [FrontEnd]  
<div>
    <img src="https://img.shields.io/badge/HTML5-E34F26?style=flat-square&logo=html5&logoColor=white"/>
    <img src="https://img.shields.io/badge/CSS3-1572B6?style=flat-square&logo=css3&logoColor=white"/>
    <img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=flat-square&logo=javascript&logoColor=black"/>
    <img src="https://img.shields.io/badge/Bootstrap-7952B3?style=flat-square&logo=bootstrap&logoColor=white"/>
</div>

#### [BackEnd]
<div>
    <img src="https://img.shields.io/badge/Python-3776AB?style=flat-square&logo=Python&logoColor=white"/>
    <img src="https://img.shields.io/badge/django-092E20?style=flat-square&logo=django&logoColor=white"/>
</div>

#### [DataBase]
<div>
    <img src="https://img.shields.io/badge/PostgreSQL-4169E1?style=flat-square&logo=postgresql&logoColor=white"/>
</div>

### 2.2 ê°œë°œ í™˜ê²½ ë° ë²„ì „ ê´€ë¦¬
<div>
    <img src="https://img.shields.io/badge/Visual Studio Code-007ACC?style=flat-square&logo=Visual Studio Code&logoColor=white"/>
    <img src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
</div>


<br>

### 2.2 ë°°í¬ Link<br>
- #### [StudyUs-FE](https://studyus.kro.kr/)
<details>
<summary>í…ŒìŠ¤íŠ¸ìš© ID ë° PW</summary>
<div markdown="1">
ID : quarttet581@gmail.com<br>
PW : testpw581
</div>
</details>

## 3. í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ê°œë°œ ì¼ì •

### 3.1 í”„ë¡œì íŠ¸ êµ¬ì¡°
ğŸ“¦StudyUs-BE  
 â”£ ğŸ“‚.git  
 â”£ ğŸ“‚.github  
 â”£ ğŸ“‚.vscode  
 â”£ ğŸ“‚accounts  
 â”ƒ â”£ ğŸ“‚management  
 â”ƒ â”£ ğŸ“‚migrations  
 â”ƒ â”£ ğŸ“œadapters.py  
 â”ƒ â”£ ğŸ“œadmin.py  
 â”ƒ â”£ ğŸ“œapps.py  
 â”ƒ â”£ ğŸ“œmodels.py  
 â”ƒ â”£ ğŸ“œserializers.py  
 â”ƒ â”£ ğŸ“œtests.py  
 â”ƒ â”£ ğŸ“œurls.py  
 â”ƒ â”£ ğŸ“œviews.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚chat  
 â”ƒ â”£ ğŸ“‚migrations  
 â”ƒ â”£ ğŸ“œadmin.py  
 â”ƒ â”£ ğŸ“œapps.py  
 â”ƒ â”£ ğŸ“œconsumers.py  
 â”ƒ â”£ ğŸ“œmodels.py  
 â”ƒ â”£ ğŸ“œrouting.py  
 â”ƒ â”£ ğŸ“œserializers.py  
 â”ƒ â”£ ğŸ“œtests.py  
 â”ƒ â”£ ğŸ“œviews.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚media  
 â”ƒ â”— ğŸ“‚profile_images  
 â”£ ğŸ“‚memorycard  
 â”ƒ â”£ ğŸ“‚migrations  
 â”ƒ â”£ ğŸ“œadmin.py  
 â”ƒ â”£ ğŸ“œapps.py  
 â”ƒ â”£ ğŸ“œmodels.py  
 â”ƒ â”£ ğŸ“œpermissions.py  
 â”ƒ â”£ ğŸ“œserializers.py  
 â”ƒ â”£ ğŸ“œtests.py  
 â”ƒ â”£ ğŸ“œurls.py  
 â”ƒ â”£ ğŸ“œviews.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚study  
 â”ƒ â”£ ğŸ“‚migrations  
 â”ƒ â”£ ğŸ“œadmin.py  
 â”ƒ â”£ ğŸ“œapps.py  
 â”ƒ â”£ ğŸ“œmodels.py  
 â”ƒ â”£ ğŸ“œpermissions.py  
 â”ƒ â”£ ğŸ“œserializers.py  
 â”ƒ â”£ ğŸ“œtests.py  
 â”ƒ â”£ ğŸ“œurls.py  
 â”ƒ â”£ ğŸ“œviews.py  
 â”ƒ â”— ğŸ“œ__init__.py  
 â”£ ğŸ“‚studyus  
 â”£ ğŸ“‚templates  
 â”ƒ â”— ğŸ“‚account  
 â”ƒ â”ƒ â”— ğŸ“‚email  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œemail_confirmation_message.html  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œemail_confirmation_signup_message.html  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œemail_confirmation_subject.txt  
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œlogin_fail.html  
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œlogin_success.html  
 â”£ ğŸ“‚venv  
 â”£ ğŸ“œ.env.dev  
 â”£ ğŸ“œ.env.prod  
 â”£ ğŸ“œ.gitignore  
 â”£ ğŸ“œmanage.py  
 â”£ ğŸ“œREADME.md  
 â”— ğŸ“œrequirements.txt  
 
<br>

### 3.2 API ëª…ì„¸ì„œ
[StudyUs-Swagger](https://api-studyus.kro.kr/api/schema/swagger-ui/#/)

#### accounts

|App|URL|HTTP Method|HTML File Name|Note|Login|
|:-:|:-|:-:|:-|:-:|:-:|
|accounts|join/|POST|join.html|íšŒì›ê°€ì…|-|
|accounts|login/|POST|login.html|ë¡œê·¸ì¸|-|
|accounts|user/|GET|profile.html|í”„ë¡œí•„ ì¡°íšŒ|O|
|accounts|user/|PATCH|profile_edit.html|í”„ë¡œí•„ ìˆ˜ì •|O|
|accounts|user/delete/|DELETE|-|íšŒì› íƒˆí‡´|O|
|accounts|token/verify/|POST|-|í† í° ìœ íš¨ì„± ê²€ì¦|O|
|accounts|token/refresh/|POST|-|í† í° ì¬ë°œê¸‰|O|
|accounts|account-confirm-email/|POST|-|ì¸ì¦ ë©”ì¼ ë°œì†¡|-|
|accounts|account-confirm-email/{key}/|GET|-|ì´ë©”ì¼ ì¸ì¦|-|
|accounts|account/resend-email/|POST|-|ì¸ì¦ ë©”ì¼ ì¬ë°œì†¡|-|
|accounts|password/change/|POST|change_password.html|ë¹„ë°€ë²ˆí˜¸ ë³€ê²½|O|

#### study

|App|URL|HTTP Method|HTML File Name|Note|Login|Author|Member|
|:-:|:-|:-:|:-|:-:|:-:|:-:|:-:|
|study|create/|POST|studygroup_create.html|ìŠ¤í„°ë””ê·¸ë£¹ ìƒì„±|O|-|-|
|study|join/|POST|-|ìŠ¤í„°ë””ê·¸ë£¹ ì°¸ê°€|O|-|-|
|study|/|GET|index.html|ìŠ¤í„°ë””ê·¸ë£¹ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|-|-|-|
|study|{id}/|GET|studygroup_detail.html|ìŠ¤í„°ë””ê·¸ë£¹ ìƒì„¸ ì¡°íšŒ|-|-|-|
|study|{id}/update/|PATCH|studygroup_edit.html|ìŠ¤í„°ë””ê·¸ë£¹ ìˆ˜ì •|O|O|O|
|study|{id}/delete/|DELETE|-|ìŠ¤í„°ë”” ê·¸ë£¹ ì‚­ì œ|O|O|O|
|study|{id}/member/|GET|-|ìŠ¤í„°ë””ê·¸ë£¹ ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|-|-|-|
|study|{id}/member/delete/|DELETE|-|ìŠ¤í„°ë””ê·¸ë£¹ íƒˆí‡´|O|-|O|
|study|{id}/member/update/|PATCH|-|ìŠ¤í„°ë””ê·¸ë£¹ ê·¸ë£¹ì¥ ìœ„ì„|O|O|O|
|study|{id}/comments/|POST|-|ëŒ“ê¸€ ì‘ì„±|O|-|-|
|study|{id}/comments/|GET|-|ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|-|-|-|
|study|{id}/comments/{id}/update/|PATCH|-|ëŒ“ê¸€ ìˆ˜ì •|O|O|-|
|study|{id}/comments/{id}/delete/|DELETE|-|ëŒ“ê¸€ ì‚­ì œ|O|O|-|

#### memorycard

|App|URL|HTTP Method|HTML File Name|Note|Login|
|:-:|:-|:-:|:-:|:-|:-:|
|memorycard|/|GET|memorycard.html|ì•”ê¸° ì¹´ë“œ ì „ì²´ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|O|
|memorycard|/|POST|-|ì•”ê¸° ì¹´ë“œ ìƒì„±|O|
|memorycard|{id}/|GET|memorycard_detail.html|ì•”ê¸° ì¹´ë“œ ìƒì„¸ ë‚´ì—­ ì¡°íšŒ|O|
|memorycard|{id}/|PATCH|-|ì•”ê¸° ì¹´ë“œ ìˆ˜ì •|O|
|memorycard|{id}/|DELETE|-|ì•”ê¸° ì¹´ë“œ ì‚­ì œ|O|
|memorycard|subject/|GET|subject.html|ì•”ê¸° ì¹´ë“œ ì£¼ì œ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ|O|
|memorycard|subject/|POST|-|ì•”ê¸° ì¹´ë“œ ì£¼ì œ ë¦¬ìŠ¤íŠ¸ ìƒì„±|O|
|memorycard|subject/{id}/|GET|-|ì•”ê¸° ì¹´ë“œ ì£¼ì œ ìƒì„¸ ì¡°íšŒ|O|
|memorycard|subject/{id}/|DELETE|-|ì•”ê¸° ì¹´ë“œ ì£¼ì œ ì‚­ì œ|O|

### 3.3 ê°œë°œ ì¼ì •

<div align="center">
<img width="800" alt="NotionTimeline" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/0e74f326-4882-466e-93e4-1714b287db04"><br>
    
íƒ€ì„ë¼ì¸

<br>


<img width="800" alt="WBS" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/ecd40f5c-abc4-42e8-856b-7de9087afce6"><br>
[WBS ìŠ¤í”„ë ˆë“œì‹œíŠ¸](https://docs.google.com/spreadsheets/d/1K5nbBxawXs0l7qWXfOIy9vtu1i8Ugt9n5Vk12vMWqwI/edit?usp=sharing)
</div>
<br>

## 4. ìš”êµ¬ì‚¬í•­ ì‹œê°í™”, ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§(ERD), ë°°í¬ ì•„í‚¤í…ì²˜ êµ¬ì„±ë„
- ë§ˆì¸ë“œ ë§µê³¼ í”Œë¡œìš° ì°¨íŠ¸ëŠ” Figmaë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
- ERDëŠ” dbdiagram.ioë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
<div align="center">
<img width="800" alt="MindMap" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/ec3bade0-cf47-41d2-81fe-1954bf62b854"><br>
    
[ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­(ë§ˆì¸ë“œë§µ)](https://www.figma.com/file/7g90jNTrXgVX7R2X5MOoph/Django-final-project-mind-map?type=whiteboard&node-id=0%3A1&t=NjyKkwH8OGcfUSHE-1)
    
    
<br>

<img width="100%" alt="FlowChart" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/80893502-47a1-42e5-b946-91cbadfc2455"><br>

[í”Œë¡œìš° ì°¨íŠ¸](https://www.figma.com/file/rMiTnkbJ4NA52qOVSs5rlf/Django-Final-Project-Flow-Chart?type=whiteboard&node-id=0%3A1&t=iPjp3b0S7fAAUhgc-1)
    
<br>

<img width="800" alt="ERD" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/107f823b-7892-4543-a525-fa6cf822ab64"><br>

[ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§(ERD ì„¤ê³„)](https://dbdiagram.io/d/StudyUs-6573add256d8064ca0ae01f1)
    
<br>

<img width="800" alt="architecture" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/75262393-7a93-4a04-b5b9-cc5c9c5f062e"><br>
    - ë°°í¬ ì•„í‚¤í…ì²˜ êµ¬ì„±ë„<br>
<br>
</div>
<br>

## 5. UI

### 5.1. ì™€ì´ì–´í”„ë ˆì„
<div align="center">
    
|||
|:-:|:-:|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/889b698c-9e5b-4e23-b1dc-ec55a2eab19c">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/edd0120c-49d7-4aea-8488-4b68c52690ab">|
|01. ë¡œê·¸ì¸ í˜ì´ì§€|02. íšŒì›ê°€ì… í˜ì´ì§€|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/80202635-53f5-424b-8fdb-46c07832bc77">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/127cc607-2708-49ee-b9ae-d4e961b2a6ab">|
|03. í”„ë¡œí•„ í˜ì´ì§€|04. í”„ë¡œí•„ ìˆ˜ì • í˜ì´ì§€|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/53953777-8624-47d9-ab5c-b879f66eba84">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/d3e0f9eb-fb5a-4bc8-af85-122e3b270de7">|
|05. ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ í˜ì´ì§€|06. ë©”ì¸ í˜ì´ì§€ (ë¡œê·¸ì¸ ì „)|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/51fa4b42-b887-4422-b295-7af01a80f2c9">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/03540fed-26ff-4760-8fa6-867d0a8faf88">|
|07. ë©”ì¸ í˜ì´ì§€ (ë¡œê·¸ì¸ í›„)|08. ìŠ¤í„°ë”” ìƒì„± í˜ì´ì§€|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/42c48973-dc72-4ccb-a688-dcb5ef822660">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/a0dafa28-3c3c-4efa-b30c-8810b3484b2e">|
|09. ìŠ¤í„°ë”” ìƒì„¸ í˜ì´ì§€(ìŠ¤í„°ë”” ë©¤ë²„ X + ë¹„ë¡œê·¸ì¸)|10. ìŠ¤í„°ë”” ìƒì„¸ í˜ì´ì§€(ìŠ¤í„°ë”” ë©¤ë²„O)|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/89a77b6d-f82e-48c0-ba37-bcc8aeadb595">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/42412224-1ca5-4406-9472-42936bdff11c">|
|11. ìŠ¤í„°ë”” ìƒì„¸ í˜ì´ì§€(ìŠ¤í„°ë””ê·¸ë£¹ì¥)|12. ìŠ¤í„°ë”” ìˆ˜ì • í˜ì´ì§€|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/e51a18ba-0ac0-4cd3-818a-a25e88708485">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/cfc635df-5632-4ed0-bbef-408c90f0151c">|
|13. ì‹¤ì‹œê°„ ì±„íŒ… í˜ì´ì§€|14. ì•”ê¸° ì¹´ë“œ ëª©ë¡ í˜ì´ì§€(ì£¼ì œ X)|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/879141ba-c9a0-4506-b47c-74fcb5bd7e22">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/e628d570-9aa1-4254-a244-073c728a671d">|
|15. ì•”ê¸° ì¹´ë“œ ëª©ë¡ í˜ì´ì§€(ì£¼ì œ O)|16. ì•”ê¸° ì¹´ë“œ ì£¼ì œ ì‘ì„± í˜ì´ì§€|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/4cef97d5-1c18-4346-832b-1c132d554c23">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/007bd1fb-b4fe-4eaa-9332-9e1d4c0c533c">|
|17. ì•”ê¸° ì¹´ë“œ ëª©ë¡ í˜ì´ì§€(ì¹´ë“œ X)|18. ì•”ê¸° ì¹´ë“œ ëª©ë¡ í˜ì´ì§€(ì¹´ë“œ  O)|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/e6d4f893-bf70-4caa-966d-3e5e3cf260fb">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/faebc0cc-ff9d-405c-8b71-a4a7374b96ba">|
|19. ì•”ê¸° ì¹´ë“œ ì‘ì„± í˜ì´ì§€|20. ì•”ê¸° ì¹´ë“œ ìˆ˜ì • í˜ì´ì§€|
|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/03923f8b-06d9-404f-880e-209f5fbd4b53">|<img width="700px" alt="image" src="https://github.com/Quartett/StudyUs-BE/assets/142385654/a9d9fba9-ffe0-4f2c-a788-27f5bc017284">|
|21. ì•”ê¸° ì¹´ë“œ ì¬ìƒ í˜ì´ì§€|22. ì•”ê¸° ì¹´ë“œ ì¤‘ìš” í‘œì‹œ í˜ì´ì§€|

</div>

### 5.2. ì‹¤ì œ UI
- GitHub Link : [StudyUs-FE](https://github.com/Quartett/StudyUs-FE)

## 6. ë©”ì¸ ê¸°ëŠ¥
### 6.1. APP : accounts
#### 6.1.1. íšŒì› ê°€ì… ì‹œ ì´ë©”ì¼ì„ ì…ë ¥ë°›ê³ , í•´ë‹¹ ì´ë©”ì¼ë¡œ ì¸ì¦ ë©”ì¼ì„ ë°›ì•„ ë©”ì¼ ë‚´ ë§í¬ í´ë¦­ ì‹œ íšŒì›ê°€ì…ì´ ì™„ë£Œë¨
- User ì»¤ìŠ¤í…€ ëª¨ë¸ ë° settingì„ í†µí•´ì„œ usernameì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ , emailì„ ì‚¬ìš©í•˜ì˜€ìŒ.
    ```python
    # accounts/models.py
    class StudyUsUser(AbstractBaseUser):
    ...ìƒëµ...
    email = models.EmailField(max_length=255, unique=True)
    
    USERNAME_FIELD = 'email'
    REQUIRED_FIELDS = [] 
    ...ìƒëµ...
    ```
    ```python
    # settings.py
    ...ìƒëµ...
    AUTH_USER_MODEL = "accounts.StudyUsUser"
    ...ìƒëµ...
    ACCOUNT_ADAPTER = 'accounts.adapters.CustomAccountAdapter'
    ACCOUNT_AUTHENTICATION_METHOD = 'email'
    ACCOUNT_EMAIL_VERIFICATION = 'none'
    ACCOUNT_UNIQUE_EMAIL = True
    ACCOUNT_USERNAME_REQUIRED = False
    ACCOUNT_USER_MODEL_USERNAME_FIELD = None # ì‚¬ìš©ì ì´ë¦„ í•„ë“œ ì§€ì •
    ...ìƒëµ...
    ```
    #### [â¬†ï¸ accounts/models.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/accounts/models.py#L6C1-L64C38)
    <br>
- ì´ë©”ì¼ ì¸ì¦ì˜ ê²½ìš° settingsì—ì„œ all_auth ì„¤ì • ë° viewì—ì„œ ConfirmEmailViewë¥¼ í†µí•´ êµ¬í˜„í•˜ì˜€ìŒ.
    ```python
    # settings.py
    ...ìƒëµ...
    EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
    EMAIL_HOST = 'smtp.gmail.com'
    EMAIL_PORT = 587
    EMAIL_HOST_USER = env('EMAIL_HOST_USER') # ê°€ì… ì¸ì¦ ë©”ì¼ì„ ë³´ë‚¼ ì´ë©”ì¼
    EMAIL_HOST_PASSWORD = env('EMAIL_HOST_PASSWORD') # ë¹„ë°€ë²ˆí˜¸(êµ¬ê¸€ì—ì„œ ì•± ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰ í•„ìš”)
    EMAIL_USE_TLS = True
    DEFAULT_FROM_EMAIL = EMAIL_HOST_USER
    ACCOUNT_CONFIRM_EMAIL_ON_GET = True
    ACCOUNT_EMAIL_REQUIRED = True
    ACCOUNT_EMAIL_VERIFICATION = 'mandatory'
    EMAIL_CONFIRMATION_AUTHENTICATED_REDIRECT_URL = '/'
    ACCOUNT_EMAIL_CONFIRMATION_EXPIRE_DAYS = 1
    ACCOUNT_EMAIL_SUBJECT_PREFIX = '[studyus]'
    ...ìƒëµ...
    ```
    #### [â¬†ï¸ settings.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/studyus/settings.py#L234C1-L247C43)
    <br>
    
    ```python
    # accounts/views.py
    class ConfirmEmailView(APIView):
    ...ìƒëµ...
    def get(self, *args, **kwargs):
        self.object = confirmation = self.get_object()
        confirmation.confirm(self.request)
        return render(self.request, 'account/email/login_success.html')

    def get_object(self, queryset=None):
        key = self.kwargs['key']
        email_confirmation = EmailConfirmationHMAC.from_key(key)
        if not email_confirmation:
            if queryset is None:
                queryset = self.get_queryset()
            try:
                email_confirmation = queryset.get(key=key.lower())
            except EmailConfirmation.DoesNotExist:
                return render(self.request, 'account/email/login_fail.html')# ì¸ì¦ì‹¤íŒ¨
        return email_confirmation
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ accounts/views.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/accounts/views.py#L18C1-L43C1)
    <br>
- urls.pyì—ì„œ repathì™€ ì •ê·œ í‘œí˜„ì‹ì„ í†µí•´ ì´ë©”ì¼ ì¸ì¦ keyë¥¼ ë°›ëŠ” urlì„ ì‘ì„±í•˜ì˜€ìŒ.
    ```python
    accounts/urls.py
    urlpatterns = [
        ...ìƒëµ...
        re_path(r'^account-confirm-email/$', VerifyEmailView.as_view(), name='account_email_verification_sent'),
        re_path(r'^account-confirm-email/(?P<key>[-:\w]+)/$', ConfirmEmailView.as_view(), name='account_confirm_email'),
        ...ìƒëµ...
    ]
    ```
    #### [â¬†ï¸ accounts/urls.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/accounts/urls.py#L11C1-L12C117)
    <br>
  
### 6.1.2. ì¸ì¦ ë©”ì¼ì„ ë°›ì§€ ëª»í•˜ì˜€ì„ ê²½ìš° ì¬ë°œì†¡ ë²„íŠ¼ì„ í†µí•´ ì¸ì¦ ë©”ì¼ì„ ë‹¤ì‹œ ìš”ì²­í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥
- urls.pyì—ì„œ dj_rest_auth.registrationì˜ ê¸°ë³¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ ì¸ì¦ ë©”ì¼ ì¬ë°œì†¡ì„ êµ¬í˜„í•˜ì˜€ìŒ.
    ```python
    # accounts/urls.py
    urlpatterns = [
        ...ìƒëµ...
        path('account/', include('dj_rest_auth.registration.urls')),
        ...ìƒëµ...
    ]
    ```
    #### [â¬†ï¸ accounts/urls.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/accounts/urls.py#L7C5-L7C65)
    <br>
  
### 6.2. APP : study
#### 6.2.1. ìŠ¤í„°ë”” ê·¸ë£¹ì— ê°€ì…í•˜ê³  ì‹¶ì„ ê²½ìš° ê¸°ì¡´ ìŠ¤í„°ë”” ê·¸ë£¹ì—ì„œ ê°€ì… ê°€ëŠ¥í•¨
- models.pyì—ì„œ max_members í•„ë“œë¥¼ ì‘ì„±í•˜ì—¬ ìµœëŒ€ ì¸ì›ì„ ì •í•˜ê³ , views.pyì—ì„œ JoinMemberViewì—ì„œ post ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ í˜„ì¬ ìŠ¤í„°ë”” ê·¸ë£¹ì˜ ë©¤ë²„ ìˆ˜ë¥¼ í™•ì¸í•˜ê³  max_membersë¥¼ ì´ˆê³¼í•˜ë©´ ê°€ì…ì„ ëª»í•˜ê³ , ê·¸ë³´ë‹¤ ì ì„ ê²½ìš° ìš”ì²­í•œ ìœ ì €ë¥¼ í•´ë‹¹ ê·¸ë£¹ì— ì‘ì„±í•©ë‹ˆë‹¤.
    ```python
    # study/models.py
    class StudyGroup(models.Model):
        ...ìƒëµ...
        max_members = models.IntegerField()
        ...ìƒëµ...
    
    class StudyMember(models.Model):
        user = models.ForeignKey(User, on_delete=models.CASCADE, related_name='user')
        study_group = models.ForeignKey(StudyGroup, on_delete=models.CASCADE, related_name='study_group')
        role = models.IntegerField(default=0)
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ study/models.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/study/models.py#L10C1-L61C73)
    <br>
    
    ```python
    # study/views.py
    class JoinMemberView(views.APIView):
        ...ìƒëµ...
        def post(self, request):
            ...ìƒëµ...
            if serializer.is_valid():
                ...ìƒëµ...
                current_member_count = StudyMember.objects.filter(study_group=study_group).count()
    
                if current_member_count >= study_group.max_members:
                    return response.Response({'message': 'ë©¤ë²„ ìˆ˜ê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤.'}, status=status.HTTP_400_BAD_REQUEST)
                member, created = StudyMember.objects.get_or_create(study_group=study_group, user=request.user, role=role)
                ...ìƒëµ...
    ```
    #### [â¬†ï¸ study/views.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/study/views.py#L143C1-L167C69)
    <br>

#### 6.2.2. ìŠ¤í„°ë”” ê·¸ë£¹ì„ ìƒì„±í•˜ê³  ì‹¶ì„ ê²½ìš° í•„ìš”í•œ ì •ë³´ (ìŠ¤í„°ë”” ê·¸ë£¹ ëª…, ì¹´í…Œê³ ë¦¬, ë‚œì´ë„, ì¼ì • ë“±)ì„ ì…ë ¥ ë°›ì•„ ìƒì„±
- models.pyì—ì„œ StudyGroupì— ì‘ì„±í•œ í•„ë“œë¥¼ ì…ë ¥ ë°›ì•„ views.pyì˜ StudygroupCreateViewë¥¼ í†µí•´ post ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ìƒì„±ì´ ë©ë‹ˆë‹¤.
    ```python
    # study/models.py
    class Category(models.Model):
        category_name = models.CharField()
    
    
    class StudyGroup(models.Model):
    
        class Difficultys(models.IntegerChoices):
        ...ìƒëµ...
    
        class Weeks(models.IntegerChoices):
        ...ìƒëµ...
        
        thumbnail = models.ImageField(upload_to = 'study_images/', blank=True)
        title = models.TextField()
        level = models.IntegerField(choices=Difficultys.choices, default=Difficultys.EASY)
        week_days = models.TextField(default='', blank=True)
        content = models.TextField()
        ...ìƒëµ...
        max_members = models.IntegerField()
        category = models.ForeignKey(Category, on_delete=models.CASCADE, related_name='category', blank=True, null=True)
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ study/models.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/study/models.py#L10C1-L49C26)
    <br>
    
    ```python
    class StudygroupCreateView(generics.CreateAPIView):
        queryset = StudyGroup.objects.all()
        serializer_class = StudyGroupSerializer
        ...ìƒëµ...
        
        def post(self, request, *args, **kwargs):
            return self.create(request, *args, **kwargs)
        
        def perform_create(self, serializer):
            serializer.save()
            ChatRoom.objects.create(study_group=serializer.instance)
            StudyMember.objects.create(user=self.request.user, study_group=serializer.instance, role=1)
    ```
    #### [â¬†ï¸ study/views.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/study/views.py#L35C1-L50C100)
    <br>
#### 6.2.3. ìŠ¤í„°ë”” ê·¸ë£¹ì˜ ë©¤ë²„ê°€ ì•„ë‹ˆë”ë¼ë„ ê¶ê¸ˆí•œ ê²ƒì€ ë¬¼ì–´ë³¼ ìˆ˜ ìˆë„ë¡ ê·¸ë£¹ ë‚´ì—ì„œ ëŒ“ê¸€ ì‘ì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- viewsì˜ CommentCreateViewë¥¼ í†µí•´ ëŒ“ê¸€ì„ ì‘ì„±í•˜ë©° permissionì„ IsAuthenticatedë¥¼ ì ìš©í•˜ì—¬ ë¡œê·¸ì¸í•œ ìœ ì €ë¼ë©´ ëŒ“ê¸€ ì‘ì„±ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```python
    class CommentCreateView(generics.CreateAPIView):
        queryset = Comment.objects.all()
        serializer_class = CommentSerializer
        permission_classes = [permissions.IsAuthenticated]
    
        def perform_create(self, serializer):
            serializer.save(author=self.request.user)
    ```
    #### [â¬†ï¸ study/views.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/a4c5149aac0380d89d73febc7d3c1014239aad73/study/views.py#L99C1-L106C1)
    <br>
#### 6.2.4. ìŠ¤í„°ë”” ê·¸ë£¹ì„ ìƒì„±í•œ ê·¸ë£¹ì¥ì¼ ê²½ìš°ì—ë§Œ ê·¸ë£¹ ì •ë³´ ìˆ˜ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- viewsì˜ StudygroupUpdateAPIViewë¥¼ í†µí•´ì„œ ìˆ˜ì •í•˜ë©°, permissionì„ LeaderOnlyë¡œ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```python
    # study/views.py
    class StudygroupUpdateAPIView(generics.UpdateAPIView):
        queryset = StudyGroup.objects.all()
        serializer_class = StudyGroupSerializer
        permission_classes = [LeaderOnly]
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ study/views.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/3c09f74fcd957792ae28fcacc9178569835bcb41/study/views.py#L65C1-L81C67)
    <br>
- LeaderOnlyëŠ” ìš”ì²­ì˜ ì¢…ë¥˜ì— ë”°ë¼ ìŠ¤í„°ë””ê·¸ë£¹ì˜ ì¼ë°˜ ë©¤ë²„ì—ê²Œë§Œ ê¶Œí•œì„ ì¤„ì§€, ìŠ¤í„°ë”” ê·¸ë£¹ì¥ì—ê²Œë§Œ ê¶Œí•œì„ ì¤„ì§€ ì„¤ì •í•˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
    ```python
    # study/permissions.py
    class LeaderOnly(permissions.BasePermission):
    
    def has_permission(self, request, view):
        ...ìƒëµ...
        if request.method in permissions.SAFE_METHODS:
            return StudyMember.objects.filter(study_group=study_group, user=request.user).exists()
        return StudyMember.objects.filter(study_group=study_group, user=request.user, role=1).exists()
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ study/permissions.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/3c09f74fcd957792ae28fcacc9178569835bcb41/study/permissions.py#L5C1-L26C20)
    <br>

### 6.3. APP : memorycard

#### 6.3.1. ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ë³„ë¡œ ì•”ê¸°ìš© í”Œë˜ì‹œ ì¹´ë“œë¥¼ ì£¼ì œ ë³„ë¡œ ì‘ì„± ë° ì‹¤í—¹í•˜ì—¬ ì•”ê¸° ê³µë¶€ì— ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- models.pyì— Subjectì™€ MemoryCardë¥¼ ì‘ì„±í•˜ê³  1:N ê´€ê³„ë¡œ ì ìš©í•¨(ForiegnKey)ìœ¼ë¡œì¨ í•˜ë‚˜ì˜ Subjectê°€ ì—¬ëŸ¬ê°œì˜ MemoryCardë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```python
    # memorycard/models.py
    class Subject(models.Model):
        user = models.ForeignKey(User, on_delete=models.CASCADE)
        title = models.CharField(max_length=50)
        ...ìƒëµ...    
            
    class MemoryCard(models.Model):
        ...ìƒëµ...
        subject = models.ForeignKey(Subject, on_delete=models.CASCADE)
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ memorycard/models.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/579f4dc3e8163fc1185c94b4ed382050cb2517fc/memorycard/models.py#L6C1-L29C27)
  <br>
- ë‹¨ìˆœí•œ CRUD ê¸°ëŠ¥ë§Œ ë¹ ë¥´ê²Œ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ views.pyì—ì„œëŠ” ViewSetì„ ì‚¬ìš©í•˜ì—¬ Subjectì™€ Memorycardì˜ CRUDë¥¼ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```python
    class SubjectViewSet(ModelViewSet):
        queryset = Subject.objects.all()
        serializer_class = SubjectSerializer
        permission_classes = [IsAuthenticated]
        ...ìƒëµ...
    
    class MemoryCardViewSet(ModelViewSet):
        queryset = MemoryCard.objects.all()
        serializer_class = MemoryCardSerailizer
        permission_classes = [IsAuthenticated, IsOwnerOrReadOnly]
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ memorycard/views.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/579f4dc3e8163fc1185c94b4ed382050cb2517fc/memorycard/views.py#L37C1-L126C30)
<br>

## 7. ì¶”ê°€ ê¸°ëŠ¥
### 7.1. APP : chat

#### 7.1.1. ìŠ¤í„°ë”” ê·¸ë£¹ ë‚´ì—ì„œ ë©¤ë²„ë“¤ë¼ë¦¬ ì‹¤ì‹œê°„ ì±„íŒ…ì´ ê°€ëŠ¥í•˜ë©°, ê¸°ì¡´ ì±„íŒ… ë‚´ì—­ ì¡°íšŒê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- Django Channels ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¤ì‹œê°„ ì±„íŒ…ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- consumers.pyì— Django Channels ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ AsyncWebsocketConsumerë¥¼ ìƒì†ë°›ì•„ ChatConsumer í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ì˜€ìœ¼ë©°, ì´ëŠ” ì›¹ì†Œì¼“ ì—°ê²°, ë©”ì‹œì§€ ìˆ˜ì‹  ë° ë°œì‹ ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- ì›¹ì†Œì¼“ ì—°ê²°ì„ ë‹´ë‹¹í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. â¤µï¸
    ```python
    # chat/consumers.py
    class ChatConsumer(AsyncWebsocketConsumer):
        async def connect(self):
            self.room_name = self.scope["url_route"]["kwargs"]["room_name"]
            self.room_group_name = f"chat_{self.room_name}"
            await self.channel_layer.group_add(self.room_group_name, self.channel_name)
            await self.accept()
            chat_history = await self.get_chat_history()
            for chat in chat_history:
                await self.send(text_data=json.dumps({
                    "message": chat.content, 
                    "nickname": await database_sync_to_async(lambda: chat.user.nickname)(),
                    "profile_image": await database_sync_to_async(lambda: chat.user.profile_image.url)(),    
                }))
                
        async def disconnect(self, close_code):
            await self.channel_layer.group_discard(self.room_group_name, self.channel_name)
        ...ìƒëµ...
    ```
- ì±„íŒ… ìˆ˜ì‹  ë° ë°œì‹ ì„ ë‹´ë‹¹í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. â¤µï¸
    ```python
    # chat/consumers.py
    class ChatConsumer(AsyncWebsocketConsumer)
        ...ìƒëµ...
        async def receive(self, text_data):
            text_data_json = json.loads(text_data)
            message = text_data_json["message"]
            room_id = text_data_json["room_id"]
            user_id = text_data_json['user_id']
            nickname = await database_sync_to_async(lambda: User.objects.get(id=user_id).nickname)()
            profile_image = await database_sync_to_async(lambda: User.objects.get(id=user_id).profile_image.url)()
            await self.channel_layer.group_send(
                self.room_group_name, {"type": "chat.message", "message": message, "room_id": room_id, "nickname": nickname, "profile_image": profile_image, "user_id": user_id}
            )
            await self.save_message(room_id, message, user_id)
    
        async def chat_message(self, event):
            message = event["message"]
            await self.send(text_data=json.dumps({
                "message": message,
                "nickname": event["nickname"],
                "profile_image": event["profile_image"],
            }))
        ...ìƒëµ...
    ```
- ì±„íŒ… ë‚´ì—­ì„ ì €ì¥í•˜ëŠ” ê²ƒì„ ë‹´ë‹¹í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. â¤µï¸
    ```python
    # chat/consumers.py
    class ChatConsumer(AsyncWebsocketConsumer)
        ...ìƒëµ...
        @database_sync_to_async
        def save_message(self, room_id, message, user_id):
            Chat.objects.create(chat_room=ChatRoom.objects.get(study_group__id=room_id), content=message, user=User.objects.get(id=user_id))
    
        @database_sync_to_async
        def get_chat_history(self):
            chat_history = Chat.objects.filter(chat_room__id=self.room_name)
            return list(chat_history)
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ chat/consumers.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/579f4dc3e8163fc1185c94b4ed382050cb2517fc/chat/consumers.py#L10)
    <br>
    
### 7.2. APP : memorycard

#### 7.2.1. ì•”ê¸°ìš© í”Œë˜ì‹œ ì¹´ë“œì— ë‚œì´ë„ì™€ ë¶ë§ˆí¬ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ì´ë¥¼ í†µí•´ ì–´ë ¤ìš´ ê²ƒë§Œ ë³„ë„ë¡œ í•™ìŠµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- models.pyì˜ MemoryCard ëª¨ë¸ì— bookmarkë¥¼ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```python
    class MemoryCard(models.Model):
        ...ìƒëµ...
        bookmark = models.BooleanField(default=False)
        ...ìƒëµ...
    ```
    #### [â¬†ï¸ memorycard/models.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/579f4dc3e8163fc1185c94b4ed382050cb2517fc/memorycard/models.py#L14C1-L29C27)
    <br>
- views.pyì˜ get_queryset ì„¤ì •ì„ í†µí•´ ì£¼ì œì™€ ë¶ë§ˆí¬ ê¸°ëŠ¥ì— ë”°ë¼ í•„í„°ë§ í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
    ```python
    class MemoryCardViewSet(ModelViewSet):
        ...ìƒëµ...
        def get_queryset(self):
            subject = self.request.GET.get('subject', '')
            bookmark = self.request.GET.get('bookmark', 'off')
            
            if subject and bookmark == 'on':
                return self.queryset.filter(subject__user=self.request.user, subject__id=subject, bookmark=True)
            elif subject and bookmark == "off":
                return self.queryset.filter(subject__user=self.request.user, subject__id=subject)
            return self.queryset.filter(subject__user=self.request.user)
    ```
    #### [â¬†ï¸ memorycard/views.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/579f4dc3e8163fc1185c94b4ed382050cb2517fc/memorycard/views.py#L96C1-L126C30)
    <br>

<br>

## 8. ê°œë°œí•˜ë©° ê²½í—˜í•œ ì˜¤ë¥˜ì™€ í•´ê²°ë°©ë²•
### 8.1. simplejwtê³¼ dj-rest-auth ì„¤ì • í›„ ë¡œê·¸ì¸ í•˜ì˜€ì„ ë•Œ access_tokenë§Œ ë°›ê³ , refresh_tokenì„ ëª» ë°›ëŠ” ìƒí™© ë°œìƒ
#### í•´ê²°ë°©ë²•
- settings.pyì˜ 'JWT_AUTH_HTTPONLY': ì„¤ì •ì„ Falseë¡œ ì„¤ì •í•˜ì—¬ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.
```
Note [ê³µì‹ë¬¸ì„œ]Â 
JWT_AUTH_HTTPONLYë¥¼ Trueë¡œ ì„¤ì •í•˜ë©´ refresh_tokenì´ í•„ìš”í•œ ê²½ìš° refresh_tokenì´ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Falseë¡œ ì„¤ì •í•˜ë©´ ì „ì†¡ë©ë‹ˆë‹¤.
```
#### [â¬†ï¸ dj-rest-auth ê³µì‹ë¬¸ì„œ](https://dj-rest-auth.readthedocs.io/en/latest/configuration.html#configuration)
<br>

#### ì™œ?
- **Trueë¡œ ì„¤ì •í•  ê²½ìš°**
    - JWTì„ HTTPOnly ì¿ í‚¤ë¡œ ë³´ë‚´ê²Œ ë˜ëŠ”ë° ì´ëŠ” ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ í´ë¼ì´ì–¸íŠ¸ ìŠ¤í¬ë¦½íŠ¸ê°€ ì¿ í‚¤ì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
    - ì´ëŠ” ì£¼ë¡œ refresh_tokenì´ í•„ìš”í•œ ìƒí™©ì—ì„œ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë°, ê·¸ ì´ìœ ëŠ” refresh_tokenì€ ë³´í†µ í´ë¼ì´ì–¸íŠ¸ì—ì„œ JWTë¥¼ ê°±ì‹ í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ì§€ë§Œ, HTTPOnly ì¿ í‚¤ë¡œ JWTë¥¼ ë³´ë‚´ê²Œ ë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ refresh_tokenì— ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
- **Falseë¡œ ì„¤ì •í•  ê²½ìš°**
    - dj-rest-authëŠ” JWTë¥¼ HTTPOnlyê°€ ì•„ë‹Œ ì¿ í‚¤ë¡œ ë³´ë‚´ê²Œ ë˜ë©° ì´ëŠ” í´ë¼ì´ì–¸íŠ¸ ìŠ¤í¬ë¦½íŠ¸ê°€ ì¿ í‚¤ì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë¯€ë¡œ, refresh_tokenì„ ì‚¬ìš©í•˜ì—¬ JWTë¥¼ ê°±ì‹ í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

<br>

### 8.2. dj-rest-authì—ì„œ ì°¸ì¡°í•˜ëŠ” usernameì„ ì—†ì• ë ¤ê³  í•  ë•Œ usernameì´ ì—†ë‹¤ê³  í•˜ëŠ” ì—ëŸ¬ë©”ì„¸ì§€ ë°œìƒ
#### í•´ê²°ë°©ë²•
- AbstractUser ëª¨ë¸ì„ ì‚¬ìš©í•˜ì§€ ë§ê³  AbstractBaseUser ëª¨ë¸ì„ ì‚¬ìš©í•˜ê³  í•„ìš”í•œ í•„ë“œë“¤ì„ ì§ì ‘ ì •ì˜
- settings.pyì—ì„œ ACCOUNT_USER_MODEL_USERNAME_FIELD ì„¤ì •ì„ noneìœ¼ë¡œ ì„¤ì •
    ```python
    # settings.py
    ACCOUNT_USER_MODEL_USERNAME_FIELD = None # ì‚¬ìš©ì ì´ë¦„ í•„ë“œ ì§€ì •
    ```
#### ì™œ?
- AbstractUserë¥¼ ìƒì†ë°›ì•„ ìœ ì €ë¥¼ ì»¤ìŠ¤í…€ í•˜ì˜€ê¸° ë•Œë¬¸ì— username í•„ë“œë¥¼ ì™„ì „íˆ ì œê±°í•˜ì§€ ëª»í•˜ì—¬ ë°œìƒí•œ ì˜¤ë¥˜
- defaultê°’ìœ¼ë¡œ usernameì„ ì‚¬ìš©í•˜ì§€ë§Œ, ëª¨ë¸ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ì•Šì•„ ìƒê¸°ëŠ” ì˜¤ë¥˜

<br>

### 8.3. modelì—ì„œ blank=Trueë¥¼ ì ìš©í•˜ì˜€ìœ¼ë‚˜, í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìš”ì²­ ì‹œ nikcname í•„ë“œê°€ blankì¼ ìˆ˜ ì—†ë‹¤ëŠ” ë©”ì„¸ì§€ ë°œìƒ
#### í•´ê²°ë°©ë²•
- serializersì—ì„œë„ allow_blank=Trueë¥¼ ì„¤ì •
    ```python
    nickname = serializers.CharField(required=False, allow_blank=True)
    ```
    #### [â¬†ï¸ accounts/serializers.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/90b488c684bcf1761d00a6a086f57afc9ff45a90/accounts/serializers.py#L12C5-L12C71)

#### ì™œ?
- ëª¨ë¸ì˜ blank=TrueëŠ” í•´ë‹¹ í•„ë“œê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë  ë•Œ ë¹ˆ ê°’ì´ í—ˆìš©ë¨ì„ ì˜ë¯¸(ë°ì´í„°ë² ì´ìŠ¤ ë ˆë²¨ì—ì„œì˜ ìœ íš¨ì„± ê²€ì‚¬) 
- ì‹œë¦¬ì–¼ë¼ì´ì €ì—ì„œ allow_blank=Trueë¥¼ ì„¤ì •í•´ì•¼ë§Œ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ë¹ˆ ë¬¸ìì—´ì„ ë°›ì•˜ì„ ë•Œ ì‹œë¦¬ì–¼ë¼ì´ì €ì˜ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µê³¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ì…ë ¥ ë°ì´í„°ì˜ ìœ íš¨ì„± ê²€ì‚¬)
- allow_blank=Trueë¥¼ ì„¤ì •í•˜ì§€ ì•Šì„ ê²½ìš° ë¹ˆ ê°’ì„ ìœ íš¨í•˜ì§€ ì•Šì€ ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ê³  ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ë°˜í™˜

<br>

### 8.4. Routerë¡œ ìƒì„±í•œ URLë¡œ API ìš”ì²­ ì‹œ 404 Error ë°œìƒ
#### í•´ê²°ë°©ë²•
- ì½”ë“œ ìˆœì„œë¥¼ ë°”ê¾¼ë‹¤.
    ```python
    memorycard/urls.py
    # ì—ëŸ¬ ë°œìƒ ì½”ë“œ
    router = DefaultRouter()
    router.register(r'', MemoryCardViewSet, basename="memorycard")
    router.register(r'subject', SubjectViewSet, basename="memorycard")
    
    # í•´ê²° ì½”ë“œ
    router = DefaultRouter()
    router.register(r'subject', SubjectViewSet, basename="memorycard")
    router.register(r'', MemoryCardViewSet, basename="memorycard")
    ```
    #### [â¬†ï¸ memorycard/urls.py ì†ŒìŠ¤ ì½”ë“œ ë§í¬](https://github.com/Quartett/StudyUs-BE/blob/90b488c684bcf1761d00a6a086f57afc9ff45a90/memorycard/urls.py#L5C1-L7C63)
- ViewSetì—ì„œ lookup_value_regex ì†ì„±ì„ í†µí•´ ì ìš©í•  ì •ê·œí‘œí˜„ì‹ì„ ë°”ê¾¼ë‹¤
    ```python
    memorycard/views.py
    class MemoryCardViewSet(ModelViewSet):
        queryset = MemoryCard.objects.all()
        serializer_class = MemoryCardSerailizer
        permission_classes = [IsAuthenticated, IsOwnerOrReadOnly]
        lookup_value_regex = r'\d+'
    ```
#### ì™œ?
- rest_framework.routersì˜ Routerë“¤ì€ ë‚´ë¶€ì ìœ¼ë¡œ ì •í•´ì§„ ì •ê·œ í‘œí˜„ì‹ì´ ìˆìŠµë‹ˆë‹¤.
- ViewSetì—ì„œ /memorycard/ URLì— ëŒ€í•œ url patternì˜ pk ì •ê·œ í‘œí˜„ì‹ì´ ìˆ«ì íŒ¨í„´ì´ ì•„ë‹ˆë¼ ë¬¸ìì—´ íŒ¨í„´ìœ¼ë¡œ ë“±ë¡ì´ ë˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
- ì¦‰, /memorycard/subject/ì˜ ìš”ì²­ì€ memorycard ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ detail ìš”ì²­ìœ¼ë¡œ ì²˜ë¦¬ë˜ì–´ pk=â€subjectâ€ë¡œ ì²˜ë¦¬ë˜ì—ˆê³  í•´ë‹¹ pkë¥¼ ì°¾ì„ ìˆ˜ ì—†ì–´ 404 ì—ëŸ¬ê°€ ë°œìƒ

<br>

### 8.5. DBì— ë°ì´í„° ì…ë ¥ ì‹œ, Unique ìœ„ë°˜ì— ëŒ€í•œ ì˜¤ë¥˜
#### í•´ê²°ë°©ë²•
- serializer í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ validate ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì¦ì„ ì§„í–‰í•˜ê³  ì˜¤ë¥˜ë©”ì‹œì§€ ì§€ì •í•˜ê¸°
    ```python
    from rest_framework import serializers

    class SubjectSerializer(serializers.ModelSerializer):
    
        class Meta:
            model = Subject
            fields = ('id', 'user', 'title')
            read_only_fields = ('user',)
    
        def validate_title(self, value):
            if Subject.objects.filter(user=self.context['request'].user, title=value).exists():
                raise serializers.ValidationError("ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì£¼ì œì…ë‹ˆë‹¤.")
            return value
    ```
- views.pyì˜ ViewSetì—ì„œ create ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©, try/exceptë¬¸ìœ¼ë¡œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§í•˜ì—¬ ì˜¤ë¥˜ë©”ì‹œì§€ë¥¼ ì§€ì •í•˜ê¸°
    ```python
    class SubjectViewSet(ModelViewSet):
        queryset = Subject.objects.all()
        serializer_class = SubjectSerializer
        permission_classes = [IsAuthenticated]
    
        def get_queryset(self):
            return self.queryset.filter(user=self.request.user)
        
        def perform_create(self, serializer):
            serializer.save(user=self.request.user)
    
        def create(self, request, *args, **kwargs):
            try:
                return super().create(request, *args, **kwargs)
            except IntegrityError:
                error_message = {
                    "detail": "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì£¼ì œì…ë‹ˆë‹¤."
                }
                return Response(error_message, status=status.HTTP_400_BAD_REQUEST)
    ```
    ê¸°íší•œ ì‘ë‹µê°’ í˜•ì‹ì€ í‚¤-ë°¸ë¥˜ì— ëŒ€í•œ ëª¨ë“  ê°’ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ì—ˆê¸° ë•Œë¬¸ì—, ë‘ë²ˆì§¸ ë°©ë²•ì´ ë” ë‚«ë‹¤ê³  íŒë‹¨í•˜ì—¬ ì±„íƒí•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

## 9. í”„ë¡œì íŠ¸ ì†Œê°(ì–´ë ¤ì› ë˜ ì  & ë°°ìš´ ì )
